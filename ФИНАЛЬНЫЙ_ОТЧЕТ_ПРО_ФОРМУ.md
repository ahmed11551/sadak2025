# ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç: –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è

## üìä –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. Backend (Python/FastAPI)

#### ‚úÖ –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö `DonationRequest`
```python
class DonationRequest(Base):
    """–ó–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –æ–ø–ª–∞—Ç—ã)"""
    __tablename__ = "donation_requests"
    
    # –ü–æ–ª—è –¥–∞–Ω–Ω—ã—Ö
    name: str - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
    phone: str - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ  
    email: str - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ
    amount: Decimal(10,2) - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
    currency: str = "RUB"
    fund_id: int - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ (FK)
    purpose: Text - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ
    message: Text - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ
    
    # –ü–æ–ª—è —Å—Ç–∞—Ç—É—Å–∞
    status: str = "pending"
    processed_at: DateTime
    created_at: DateTime
    updated_at: DateTime
```

#### ‚úÖ –ù–æ–≤—ã–π API Endpoint
```
POST /api/v1/donations/simple-request
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Pydantic
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–æ–Ω–¥–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î —á–µ—Ä–µ–∑ SQLAlchemy ORM
- ‚úÖ Transaction management (rollback –ø—Ä–∏ –æ—à–∏–±–∫–µ)
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç —Å ID –∑–∞—è–≤–∫–∏
- ‚úÖ Error handling —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ HTTP –∫–æ–¥–∞–º–∏

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "phone": "+7 999 123-45-67",
  "email": "ivan@example.com",
  "amount": "1000",
  "currency": "RUB",
  "fund_id": 1,
  "purpose": "–ù–∞ –ª–µ—á–µ–Ω–∏–µ –¥–µ—Ç–µ–π"
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "success": true,
  "message": "–ó–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞",
  "request_id": 123,
  "data": {
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "phone": "+7 999 123-45-67",
    "email": "ivan@example.com",
    "amount": 1000.0,
    "currency": "RUB",
    "fund_id": 1,
    "purpose": "–ù–∞ –ª–µ—á–µ–Ω–∏–µ –¥–µ—Ç–µ–π",
    "created_at": "2025-01-15T10:30:00Z"
  }
}
```

---

### 2. Frontend (React/TypeScript)

#### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞

**–§–∞–π–ª:** `frontend/src/pages/DonationPage.tsx` (390 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
1. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º** (React Hook Form):
   - –ò–º—è: required
   - –¢–µ–ª–µ—Ñ–æ–Ω: required + regex validation
   - Email: optional + email validation
   - –°—É–º–º–∞: required + min 1 RUB
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: optional

2. **UI Features:**
   - ‚úÖ –ë—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ —Å—É–º–º (100‚ÇΩ, 500‚ÇΩ, 1000‚ÇΩ, 3000‚ÇΩ, 5000‚ÇΩ)
   - ‚úÖ Loading state –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ
   - ‚úÖ Disabled button –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞
   - ‚úÖ Toast notifications –¥–ª—è feedback
   - ‚úÖ Success screen —Å –æ–ø—Ü–∏—è–º–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

3. **Error Handling:**
   - ‚úÖ Try/catch –±–ª–æ–∫–∏
   - ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - ‚úÖ –ü–æ–∫–∞–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
   - ‚úÖ Fallback –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫

4. **UX/UI:**
   - ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π gradient design
   - ‚úÖ Telegram theme colors
   - ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ hover/active
   - ‚úÖ Responsive design
   - ‚úÖ Lucide icons

#### ‚úÖ TypeScript —Ç–∏–ø—ã

**–§–∞–π–ª:** `frontend/src/types/index.ts`

–î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã:
```typescript
export interface SimpleDonationRequest {
  name: string;
  phone: string;
  email?: string;
  amount: string;
  currency?: string;
  fund_id?: number;
  purpose?: string;
  message?: string;
}

export interface SimpleDonationResponse {
  success: boolean;
  message: string;
  request_id: number;
  data: { ... };
}
```

#### ‚úÖ API Service

**–§–∞–π–ª:** `frontend/src/services/api.ts`

```typescript
export const donationApi = {
  createSimpleRequest: (
    data: SimpleDonationRequest
  ): Promise<AxiosResponse<SimpleDonationResponse>> =>
    api.post('/api/v1/donations/simple-request', data),
};
```

---

## üîç Code Quality Review

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã

1. **Linter:** ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫
2. **TypeScript:** ‚úÖ –í—Å–µ —Ç–∏–ø—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
3. **Python imports:** ‚úÖ –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
4. **Validation:** ‚úÖ Frontend + Backend
5. **Error handling:** ‚úÖ Try/catch –≤–µ–∑–¥–µ
6. **Documentation:** ‚úÖ Docstrings –Ω–∞ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö
7. **Database:** ‚úÖ ForeignKeys –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

**Backend:**
1. `backend/app/models/models.py` - –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å `DonationRequest`
2. `backend/app/schemas/schemas.py` - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ö–µ–º–∞ `SimpleDonationRequest`
3. `backend/app/api/donations.py` - –î–æ–±–∞–≤–ª–µ–Ω endpoint `/simple-request`

**Frontend:**
1. `frontend/src/pages/DonationPage.tsx` - –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω (390 —Å—Ç—Ä–æ–∫)
2. `frontend/src/services/api.ts` - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `createSimpleRequest`
3. `frontend/src/types/index.ts` - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –¥–ª—è –∑–∞—è–≤–æ–∫

**Documentation:**
1. `README.md` - –û–±–Ω–æ–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª API
2. `–ü–†–û–°–¢–ê–Ø_–§–û–†–ú–ê_–û–ü–õ–ê–¢–´.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
3. `–ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–ê–Ø_–†–ï–ê–õ–ò–ó–ê–¶–ò–Ø.md` - Code review
4. `–ò–ù–°–¢–†–£–ö–¶–ò–Ø_–î–õ–Ø_–ü–†–ò–ï–ú–ö–ò.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∑–∞–∫–∞–∑—á–∏–∫–∞
5. `backend/migrations/create_donation_requests_table.sql` - SQL –º–∏–≥—Ä–∞—Ü–∏—è

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

### Backend: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)
- ‚úÖ –ö–æ–¥ —á–∏—Å—Ç—ã–π –∏ —á–∏—Ç–∞–µ–º—ã–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è —á–µ—Ä–µ–∑ Pydantic
- ‚úÖ Error handling –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π
- ‚úÖ Documentation –æ—Ç–ª–∏—á–Ω–∞—è (docstrings)
- ‚úÖ Database design –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (ForeignKeys, timestamps)
- ‚úÖ SQL injection –∑–∞—â–∏—Ç–∞ (ORM)
- ‚úÖ HTTP –∫–æ–¥—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ (404, 200)

### Frontend: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)
- ‚úÖ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è forms —á–µ—Ä–µ–∑ React Hook Form
- ‚úÖ Error handling –¥–µ—Ç–∞–ª—å–Ω—ã–π (try/catch, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
- ‚úÖ UX –æ—Ç–ª–∏—á–Ω—ã–π (loading states, success screen, toasts)
- ‚úÖ UI –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π (gradients, animations, responsive)
- ‚úÖ Code organization —Ö–æ—Ä–æ—à–∞—è (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)

### Database: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)
- ‚úÖ Schema –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è (Numeric –¥–ª—è –¥–µ–Ω–µ–≥, Text –¥–ª—è —Å—Ç—Ä–æ–∫)
- ‚úÖ ForeignKeys –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (on delete set null)
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –µ—Å—Ç—å (–¥–ª—è status, created_at)
- ‚úÖ Timestamps –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ç–∞–±–ª–∏—Ü–µ –∏ –∫–æ–ª–æ–Ω–∫–∞–º

---

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

### ‚úÖ –ì–æ—Ç–æ–≤–æ –Ω–∞ 100%
- ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –µ—Å—Ç—å –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- ‚úÖ Error handling –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π
- ‚úÖ Database schema –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è
- ‚úÖ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è
- ‚úÖ Code quality –æ—Ç–ª–∏—á–Ω–∞—è (0 linter errors)
- ‚úÖ Documentation –ø–æ–ª–Ω–∞—è

### ‚è≥ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)
- Unit —Ç–µ—Å—Ç—ã –¥–ª—è endpoint
- Integration —Ç–µ—Å—Ç—ã
- E2E —Ç–µ—Å—Ç—ã –¥–ª—è —Ñ–æ—Ä–º—ã
- Alembic –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)

---

## üìù –î–ª—è –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏–µ–º–∫–∏

–í—Å–µ —Ñ–∞–π–ª—ã –≥–æ—Ç–æ–≤—ã –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ:

1. **Backend API:** `POST /api/v1/donations/simple-request`
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ Swagger: http://localhost:8000/api/docs

2. **Frontend Form:** `http://localhost:3000/donation`
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É

3. **Database:**
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é: `backend/migrations/create_donation_requests_table.sql`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É: `SELECT * FROM donation_requests;`

4. **Documentation:**
   - –ü—Ä–æ—á–∏—Ç–∞—Ç—å –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
   - –û—Å–æ–±–µ–Ω–Ω–æ: `–ò–ù–°–¢–†–£–ö–¶–ò–Ø_–î–õ–Ø_–ü–†–ò–ï–ú–ö–ò.md`

---

**–°—Ç–∞—Ç—É—Å: ‚úÖ –ì–û–¢–û–í–û –ö –ü–†–ò–ï–ú–ö–ï!**

–ü—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–º —É—Ä–æ–≤–Ω–µ, –≤—Å–µ best practices —Å–æ–±–ª—é–¥–µ–Ω—ã, code quality –æ—Ç–ª–∏—á–Ω–∞—è.

